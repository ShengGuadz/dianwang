<!DOCTYPE html>
<html lang="ch">
<head>
    <meta charset="UTF-8">
    <title>Transmitter</title>
<style>
    body{
        background: url('{{ url_for("static", filename="image/bg.jpg") }}') no-repeat ;
        background-size: cover;
        background-attachment: local;
    }
    h1{text-align: center;
        margin-top: 0;
    }
    #title1{
        font-weight: 800;
        font-size: 25px;
        color: darkcyan;
        padding-top: 15px;
        text-align: center;
    }
    #container_traditional img {
        position: absolute;
        top: 240px;
        left: 230px;
        width: 310px;
        height: 210px;
    }
    #container_semantic img {
        position: absolute;
        top: 680px;
        left: 230px;
        width: 310px;
        height: 210px;
    }

</style>

</head>
<body>
    <div>
<!--        <br>-->
<!--        <img src="{{ url_for('static', filename='image/åŒ—é‚® logo è“.png') }}" width=7% height=14% style="position: absolute;left: 50px">-->
<!--        <img src="{{ url_for('static', filename='image/å›½å®¶ç”µç½‘.png') }}" width=9% height=10% style="position: absolute;left: 10px">-->
        <img src="{{ url_for('static', filename='image/å›½å®¶ç”µç½‘.png') }}"
     style="position: absolute; left: 20px; top: 100px; width: 180px; height: 120px;">

<!--        <br>-->
<!--        <br><br>-->
<!--        <br>-->
<!--        <br>-->
<!--        <br>-->
<!--        <br>-->
<!--        <p style="position: absolute;left: 220px;top:30px;font-size: 40px;color: #0033FF;">ä¸‹ ä¸€ ä»£ é€š ä¿¡ ç³» ç»Ÿ ç† è®º ä¸ æŠ€ æœ¯ ç ” ç©¶ å®¤</p>-->
        <div style="text-align: center">
            <b style="font-size: 50px" >
<!--            å›¾åƒè¯­ä¹‰é€šä¿¡å¹³å°â€”â€”å‘é€ç«¯-->
                æ™ºèƒ½ç”µç½‘ä¸­åŸºäºè¯­ä¹‰é€šä¿¡å’ŒåŒ—æ–—å«æ˜Ÿçš„ç”µä¿¡é‡‡é›†æŠ€æœ¯å¹³å°â€”â€”å‘é€ç«¯
            </b>
        </div>
    </div>
    <div id="title1">

<!--        <br>-->
<!--        <br>-->

        <img src="{{ url_for('static', filename='Setting/å«æ˜Ÿå‘é€ç«¯æ”¹.png') }}" width=100% height=100%>

    </div>
    <div id="bandwidth-traditional"
    style="position: absolute; left: 1630px; top: 410px; color: red; font-weight: bold; font-size: 32px;">
    å¸¦å®½
    </div>
    <div id="bandwidth-sematic"
    style="position: absolute; left: 1630px; top: 900px; color: red; font-weight: bold; font-size: 32px;">
    å¸¦å®½
    </div>
    <div id="container_traditional"></div>
    <div id="container_semantic"></div>

    <script src="https://cdn.socket.io/4.3.2/socket.io.min.js"></script>
    <script>
        const socket = io(); // å»ºç«‹SocketIOè¿æ¥
        const container_traditional = document.getElementById("container_traditional");
        const container_semantic = document.getElementById("container_semantic");
        // ğŸ”¥ ç›‘å¬åç«¯æ¨é€çš„æ¶ˆæ¯
        socket.on("message", (data) => {
            console.log("new_image event triggered:", data);
            // æ¸…ç©ºå¹¶æ›´æ–°å›¾åƒæ˜¾ç¤º
            container_traditional.innerHTML = "";
            container_semantic.innerHTML = "";
            // æ˜¾ç¤ºåŸå§‹å›¾åƒ

            const originalImg = document.createElement("img");
            originalImg.src = data.original_image_url;
            container_traditional.appendChild(originalImg);
            // æ˜¾ç¤ºè¯­ä¹‰å›¾åƒï¼ˆå®é™…ä¸Šæ˜¯åŒä¸€å¼ å›¾ï¼‰

            const semanticImg = document.createElement("img");
            semanticImg.src = data.semantic_image_url;
            container_semantic.appendChild(semanticImg);
            // æ›´æ–°å¸¦å®½æ˜¾ç¤º

            const traditionalBandwidth = data.original_image_size;
            const semanticBandwidth = data.semantic_feature_size;
            document.getElementById("bandwidth-traditional").innerText = `å¸¦å®½:${traditionalBandwidth}KBps`;
            document.getElementById("bandwidth-sematic").innerText = `å¸¦å®½:${semanticBandwidth}KBps`;
        })



    </script>
</body>
</html>
